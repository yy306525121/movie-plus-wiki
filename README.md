### 主要功能
| 名称                                   | 功能               |
|--------------------------------------|:-----------------|
| [movie-plus](./movie-plus/README.md) | emby/plus 直连播放功能 |
| [token-115](./token-115)             | 扫码获取115token     |

### 欢迎入群

加我微信入群：yy306525121
本项目已收费，捐赠请看[这里](./donat.README.md)

### movie-plus支持功能
* plex/emby直连播放（支持一个容器同时接入plex和emby）
* 多网盘支持，支持对接多个123云盘和115云盘
* 云盘文件自动转存（目前只支持从115云盘转存到123云盘）

### 部署方式
先下载代码中的movie-plus部分，里面已经包含了docker-compose.yaml文件，直接使用

配置文件在/movie-plus/config/application.yaml中


### strm前缀说明
例如你得strm文件内容像下面这样
/volume1/CloudNAS/CloudDrive2/115/video/纪录片/剧集/第一餐(2021){tmdb-135161}/S01/第一餐-S01E02-横-[WEB-DL][1080p][H264][AAC]-HHWEB.mkv

那么你的strm前缀就是/115前面的部分，也就是：/volume1/CloudNAS/CloudDrive2

### 网盘的挂载前缀说明
再拿上面的strm内容来举例，这里的网盘挂载前缀是/115

------

我自己未使用strm, 123网盘通过cd2挂载到本地的/volume1/CloudNAS/CloudDrive2/123上，然后通过docker启动emby将路径/volume1/CloudNAS/CloudDrive2/123映射成了容器内的/123路径，那么我自己的
网盘前缀就是/123,其他同理

### 关于直连是针对strm前缀和网盘挂载前缀的处理方式
* 当你通过plex或emby直连播放的时候，程序先拿到你的文件在plex或emby中识别到的文件地址，
* 然后程序通过前缀匹配原则先删除strm前缀（匹配成功删除，匹配不成功跳过）
* 然后程序通过网盘路径前缀匹配该文件属于配置文件中的哪一个网盘（并将文件路径再次通过前缀匹配原则删除网盘挂载前缀） 所以这里有一个注意的地方，你如果挂在了多个网盘的话，不要使用类似`/123云盘` `/123云盘1`这样的两个名字就会出问题
* 最后就获得了真正的网盘的路径
* 通过网盘路径和获取到的对应的网盘配置，获取直连连接，重定向给播放器进行直连播放


### 115云盘token获取方式
* 可以通过网站：https://token-115.codeyang.cc:82/ 扫码获取
* 也可以自己部署docker容器，参考token-115